services:
  web-devcontainer:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - .:/app:cached
      - ./volumes/django/media:/app/media
    environment:
      - SECRET_KEY=dev-secret-key-not-for-production
      - DEBUG=True
      - ALLOWED_HOSTS=localhost,127.0.0.1
      - POSTGRES_DB=${POSTGRES_DB:-andrebellemare}
      - POSTGRES_USER=${POSTGRES_USER:-andrebellemare}
      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-password}
      - POSTGRES_HOST=db
      - POSTGRES_PORT=5432
    depends_on:
      db:
        condition: service_healthy
    command: sleep infinity

